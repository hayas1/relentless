name: test config for template
destinations:
  server1: http://localhost:3000
  server2: http://localhost:3001


testcases:
  - target: /echo/path/${var}
    setting:
      template:
        var:
          server1: server1
          server2: server2
    attr:
      allow: true
  - target: /echo/body
    setting:
      template:
        var:
          server1: server1
          server2: server2
      http:
        request:
          method: POST
          body: hello ${var}
        evaluate:
          body:
            plaintext:
              server1:
                regex: hello server1
              server2:
                regex: hello server2
